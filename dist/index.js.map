{"version":3,"sources":["index.js"],"names":["Object","defineProperty","exports","value","buffered","fn","ms","id","bn","args","Promise","resolve","clearTimeout","setTimeout","apply","cancel","default"],"mappings":"AAAA;AACA;;AACAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA;;;;;;;;;;;;;AAaA,SAASC,QAAT,CAAkBC,EAAlB,EAAgC;AAAA,QAAVC,EAAU,uEAAL,GAAK;;AAC5B,QAAIC,WAAJ;AACA,QAAMC,KAAK,SAALA,EAAK,GAAkB;AAC3B;AAAA;;AAAA,0CADsBC,IACtB;AADsBA,gBACtB;AAAA;;AACE,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BC,yBAAaL,EAAb;AACAA,iBAAKM,WAAW;AAAA,uBAAMF,QAAQN,GAAGS,KAAH,CAAS,KAAT,EAAeL,IAAf,CAAR,CAAN;AAAA,aAAX,EAAgDH,EAAhD,CAAL;AACH,SAHM,CAAP;AAIH,KAND;AAOAE,OAAGO,MAAH,GAAY,YAAM;AACdH,qBAAaL,EAAb;AACH,KAFD;AAGA,WAAOC,EAAP;AACH;AACDN,QAAQE,QAAR,GAAmBA,QAAnB;AACAF,QAAQc,OAAR,GAAkBZ,QAAlB","file":"index.js","sourcesContent":["\"use strict\";\n/* tslint:disable:ban-types */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Returns a buffered and cancelable version for the provided function.\n *\n * The buffered function does *not* get invoked before the specified delay in\n * milliseconds passes, no matter have many times it gets invoked in between.\n * Also upon the invocation of the *buffering* function a promise is returned.\n * Further, it is also possible to *cancel* a particular invocation before the\n * delay passes.\n *\n * @param fn an arbitrary function\n * @param ms delay in milliseconds\n * @returns a buffered function (returning a promise)\n */\nfunction buffered(fn, ms = 200) {\n    let id;\n    const bn = function (...args // tslint:disable-line:trailing-comma\n    ) {\n        return new Promise((resolve) => {\n            clearTimeout(id);\n            id = setTimeout(() => resolve(fn.apply(this, args)), ms);\n        });\n    };\n    bn.cancel = () => {\n        clearTimeout(id);\n    };\n    return bn;\n}\nexports.buffered = buffered;\nexports.default = buffered;\n"]}
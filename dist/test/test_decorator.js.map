{"version":3,"sources":["test_decorator.js"],"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","exports","chai_1","require","lib_1","describe","it","expect","buffered","decorator","to","not","be","an","a","Class","eq","Function","prototype","fn","bind","Accumulator","n","acc","id","setInterval","setTimeout","clearInterval","t","dt","Date","getTime","p","res","Error","toString","catch","err","name","message","cancel"],"mappings":"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","file":"test_decorator.js","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable:max-classes-per-file */\nconst chai_1 = require(\"chai\");\nconst lib_1 = require(\"../lib\");\nrequire(\"mocha\");\ndescribe(\"buffered.decorator\", () => {\n    it(\"should exist\", () => {\n        chai_1.expect(lib_1.buffered.decorator).to.not.be.an(\"undefined\");\n    });\n    it(\"should be a function\", () => {\n        chai_1.expect(lib_1.buffered.decorator).to.be.a(\"function\");\n    });\n});\ndescribe(\"buffered.decorator\", () => {\n    it(\"should return a buffered function\", () => {\n        class Class {\n            fn() {\n                chai_1.expect(true).to.eq(true);\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator,\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        chai_1.expect(new Class().fn).to.be.a(\"function\");\n    });\n    it(\"should preserve `this` correctly\", (done) => {\n        class Class {\n            fn() {\n                chai_1.expect(this).to.be.an(\"object\");\n                chai_1.expect(this instanceof Class).to.eq(true);\n                done();\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(0),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        new Class().fn();\n    });\n    it(\"should preserve `this` correctly\", (done) => {\n        class Class {\n            fn() {\n                chai_1.expect(this).to.be.an(\"object\");\n                chai_1.expect(this.key).to.eq(true);\n                done();\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(0),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        new Class().fn.bind({ key: true })();\n    });\n    it(\"should buffer invocations\", (done) => {\n        class Accumulator {\n            constructor() {\n                this.n = 0;\n            }\n            fn() {\n                this.n += 1;\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(5),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Accumulator.prototype, \"fn\", null);\n        const acc = new Accumulator();\n        chai_1.expect(acc.n).to.eq(0);\n        chai_1.expect(acc.fn).to.be.a(\"function\");\n        const id = setInterval(() => {\n            chai_1.expect(acc.n).to.eq(0);\n            acc.fn();\n            acc.fn();\n            acc.fn();\n            chai_1.expect(acc.n).to.eq(0);\n        }, 1);\n        setTimeout(() => {\n            chai_1.expect(acc.n).to.eq(0);\n            clearInterval(id);\n            chai_1.expect(acc.n).to.eq(0);\n            setTimeout(() => {\n                chai_1.expect(acc.n).to.eq(0);\n            }, 1);\n            chai_1.expect(acc.n).to.eq(0);\n            setTimeout(() => {\n                chai_1.expect(acc.n).to.eq(1);\n                done();\n            }, 5);\n            chai_1.expect(acc.n).to.eq(0);\n        }, 5);\n    });\n    it(\"should forward arguments\", (done) => {\n        class Class {\n            fn(t) {\n                const dt = new Date().getTime() - t.getTime();\n                chai_1.expect(dt >= 0).to.eq(true);\n                done();\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(1),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Date]),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        new Class().fn(new Date());\n    });\n    it(\"should return a promise\", (done) => {\n        class Class {\n            fn(t) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return new Date().getTime() - t.getTime();\n                });\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(1),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Date]),\n            __metadata(\"design:returntype\", Promise)\n        ], Class.prototype, \"fn\", null);\n        const p = new Class().fn(new Date());\n        chai_1.expect(p).to.be.a(\"Promise\");\n        p.then((res) => {\n            chai_1.expect(res).to.be.a(\"number\");\n            chai_1.expect(res >= 0).to.eq(true);\n            throw new Error(res.toString());\n        }).catch((err) => {\n            chai_1.expect(err.name).to.eq(\"Error\");\n            chai_1.expect(err.message).to.be.a(\"string\");\n            chai_1.expect(err.message >= \"0\").to.eq(true);\n        });\n        setTimeout(done, 1);\n    });\n    it(\"should await a result\", () => __awaiter(this, void 0, void 0, function* () {\n        class Class {\n            fn(t) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return new Date().getTime() - t.getTime();\n                });\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator(1),\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", [Date]),\n            __metadata(\"design:returntype\", Promise)\n        ], Class.prototype, \"fn\", null);\n        const dt = yield new Class().fn(new Date());\n        chai_1.expect(dt).to.be.a(\"number\");\n        chai_1.expect(dt >= 0).to.eq(true);\n    }));\n    it(\"should return a cancelable function\", () => {\n        class Class {\n            fn() {\n                chai_1.expect(true).to.eq(false);\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator,\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        chai_1.expect((new Class().fn)).to.be.a(\"function\");\n        chai_1.expect(new Class().fn.cancel).to.be.a(\"function\");\n    });\n    it(\"should cancel invocations\", () => {\n        class Class {\n            fn() {\n                chai_1.expect(true).to.eq(false);\n            }\n        }\n        __decorate([\n            lib_1.buffered.decorator,\n            __metadata(\"design:type\", Function),\n            __metadata(\"design:paramtypes\", []),\n            __metadata(\"design:returntype\", void 0)\n        ], Class.prototype, \"fn\", null);\n        const c = new Class();\n        c.fn();\n        c.fn();\n        c.fn();\n        c.fn.cancel();\n    });\n});\n"]}